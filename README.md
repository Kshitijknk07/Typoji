# Typoji

Typoji changes words that have to do with feelings, like "happy," "skull," or "fire," into the right emoji as you type. It can automatically replace words or ask for confirmation, which makes conversations more fun, expressive, and faster. A simple tool that gives your text some personality without any extra work.

---

## Comprehensive Emoji Taxonomy

Typoji relies on a deeply layered taxonomy so it can understand nuance, sarcasm, internet slang, and everything in between. The structure below shows how categories, subcategories, and trigger words blend together. Each trigger can live under multiple branches (e.g., `fire` belongs to both `reactions > hype` and `slang > hype`) and may point to Unicode emojis or custom tokens like `:deadpan_face:` when no perfect emoji exists yet.

### 1. Emotions

**Positive Core**

- **Joyful burst** â€” happy ðŸ™‚, delighted ðŸ˜, ecstatic ðŸ¤©, euphoric ðŸ¤—, beaming ðŸ˜„
- **Calm & grounded** â€” content ðŸ™‚, serene ðŸ§˜, zen ðŸ˜Œ, chill ðŸ˜Ž, composed ðŸ™‚
- **Proud & winning** â€” proud ðŸ¥¹, triumphant ðŸ†, nailed it ðŸ™Œ, flex ðŸ’ª, smug ðŸ˜
- **Warm connections** â€” grateful ðŸ¥°, heartfull â¤ï¸, cherished ðŸ’ž, hug ðŸ¤—, appreciative ðŸ™‡

**Neutral & Mixed**

- **Curious thinkers** â€” hmm ðŸ¤”, intrigued ðŸ§, pondering ðŸ¤¨, curious ðŸ§ , wonder âœ¨
- **Reflective nostalgia** â€” wistful ðŸ¥², bittersweet ðŸ•°ï¸, reflective ðŸ“œ, throwback ðŸ“¼
- **Polite masking** â€” polite smile ðŸ™‚, nervous laugh ðŸ˜…, customer service grin ðŸ™‚â€â†•ï¸

**Negative Spectrum**

- **Sadness arc** â€” sad ðŸ˜¢, heartbroken ðŸ’”, devastated ðŸ˜­, melancholic ðŸ˜”, sigh ðŸ˜®â€ðŸ’¨
- **Anger arc** â€” annoyed ðŸ˜ , pissed ðŸ˜¡, fuming ðŸ˜¤, raging ðŸ¤¬, simmering ðŸ˜¤
- **Fear & anxiety** â€” anxious ðŸ˜°, panicked ðŸ˜±, uneasy ðŸ˜Ÿ, stressed ðŸ˜«, dread ðŸ˜¨
- **Disgust & distaste** â€” gross ðŸ¤¢, unimpressed ðŸ˜’, side-eye ðŸ™„, nope ðŸ˜‘, bleh ðŸ˜–

**Nuanced & Sarcastic**

- **Deadpan sarcasm** â€” "lovely" `:deadpan_face:`, "great" ðŸ™ƒ, "amazing" ðŸ™„, sure ðŸ˜‘, noted ðŸ™ƒ
- **Mock enthusiasm** â€” iconic ðŸ¤©, stunning ðŸ˜, wow ðŸ”¥, queen ðŸ‘‘, slay ðŸ’…
- **Self-deprecating** â€” clown ðŸ¤¡, oops ðŸ˜¬, facepalm ðŸ¤¦, spiral ðŸŒ€, chaos gremlin ðŸ˜ˆ
- **Bittersweet humor** â€” cry-laughing ðŸ˜‚, laugh-cry ðŸ¥², coping â˜•, caffeine tears â˜•ðŸ˜­

### 2. Reactions

**Approval / Hype**

- Fire ðŸ”¥, lit ðŸ”¥, heat ðŸ”¥, ate ðŸ’¯, ate_down ðŸ˜®â€ðŸ’¨, slay ðŸ’…, chef's kiss ðŸ‘¨â€ðŸ³ðŸ’‹, clap ðŸ‘, salute ðŸ«¡

**Support & Empathy**

- Proud of you ðŸ¥¹, rooting ðŸŒ±, gentle hug ðŸ¤—, soft pat ðŸ«¶, tea & listen â˜•ðŸ‘‚

**Disapproval / Callouts**

- Meh ðŸ˜, mid ðŸ˜¶, cringe ðŸ˜¬, nope ðŸš«, stop âœ‹, timeout â±ï¸, flag ðŸ³ï¸, warning âš ï¸

**Shock & Surprise**

- Gasp ðŸ˜², shook ðŸ˜³, woah ðŸ˜®, jump scare ðŸ˜±, stunned ðŸ¥¶, silent scream ðŸ˜±ðŸ«¥

**Humor Layers**

- lol ðŸ˜†, lmao ðŸ¤£, dead ðŸ’€, skull ðŸ’€, feral laugh ðŸ™ƒ, wheeze ðŸ˜®â€ðŸ’¨, dry chuckle `:dry_chuckle:`

**Sarcastic / Passive Aggressive**

- Interesting ðŸ™ƒ, noted ðŸ˜‘, bold choice ðŸ¤¨, okay champ ðŸ« , cute ðŸ˜, sure thing ðŸ˜Œ

### 3. Slang & Internet Tone

**Vibes & Aesthetic**

- cozy ðŸ§£, soft ðŸ§¸, cottage ðŸµ, moody ðŸŒ§ï¸, lowkey ðŸ•¯ï¸, highkey ðŸŒž, chaotic ðŸŒªï¸, feral ðŸˆâ€â¬›

**Meme Language**

- Based ðŸ§±, cringe ðŸ˜¬, receipts ðŸ“¸, ratio âž—, bet ðŸŽ², big yikes ðŸ˜³, it me ðŸ™‹, this you ðŸ‘‰

**Stan & Fandom**

- stan ðŸ™‡â€â™€ï¸, bias â¤ï¸, new era ðŸŒ…, comeback ðŸŽ¤, stream now ðŸ“¡, anti ðŸš«, fandom war âš”ï¸

**Text Shorthand**

- oml ðŸ˜±, fr ðŸ”¥, smh ðŸ¤¦, tfw ðŸ¤², iykyk ðŸ‘ï¸, bet âœ…, vibing ðŸŽ§, same ðŸ¤

**Irony / Meta**

- /s `:sarcasm_tag:`, clownery ðŸ¤¡, cyberbully me ðŸ’»ðŸ˜ˆ, chaotic good ðŸ˜‡, s p a c e d ðŸª

### 4. Objects & Concepts

**Communication**

- dm âœ‰ï¸, thread ðŸ§µ, ghost ðŸ‘», lurking ðŸ¥·, ping ðŸ“³, inbox ðŸ“¥, unread ðŸ”´

**Tech / Work**

- deploy ðŸš€, merge âž•, bug ðŸž, prod ðŸ”¥, on-call ðŸ“Ÿ, crunch â³, caffeine â˜•, ship ðŸ“¦

**Life & Self-care**

- hydrate ðŸ’§, stretch ðŸ§˜, break â˜•, burnout ðŸ”¥ðŸ§ , nap ðŸ˜´, therapy ðŸ›‹ï¸, journaling ðŸ““

**Money & Logistics**

- payday ðŸ’¸, broke ðŸª™, invoice ðŸ“„, expenses ðŸ§¾, rent ðŸ , deal ðŸ¤

### 5. Activities & Events

**Daily Flow**

- commute ðŸš‡, errands ðŸ›’, chores ðŸ§¹, cooking ðŸ³, meal prep ðŸ¥—

**Celebration**

- birthday ðŸŽ‚, anniversary ðŸ’, promotion ðŸ¥‚, launch ðŸš€, milestone ðŸŽ‰

**Gaming**

- gg ðŸŽ®, clutch ðŸ•¹ï¸, respawn â™»ï¸, afk â¸ï¸, nerf ðŸ”§, buff ðŸ›¡ï¸

**Creative & Learning**

- brainstorm ðŸ’¡, sketch âœï¸, collab ðŸ¤, study ðŸ“š, deep dive ðŸ§ , research ðŸ”

### 6. Nature & Environment

**Weather Mood**

- sunny optimism â˜€ï¸, cloudy meh â˜ï¸, stormy mood ðŸŒ©ï¸, foggy brain ðŸŒ«ï¸, rainbow hope ðŸŒˆ

**Seasons & Vibes**

- cozy autumn ðŸ‚, bloom ðŸŒ¸, heatwave ðŸ¥µ, winter hush â„ï¸

**Natural Symbols**

- mountain goal â›°ï¸, ocean calm ðŸŒŠ, forest retreat ðŸŒ², desert dry ðŸœï¸

### 7. Symbols & Abstract Tone

**Status & Signals**

- green check âœ…, in progress ðŸ”„, blocked ðŸ§±, alert ðŸš¨, low battery ðŸ”‹, do not disturb ðŸš«

**Progress & Process**

- loading â³, buffering ðŸ”, queued ðŸ“‹, shipped ðŸ“¦, archived ðŸ—„ï¸

**Magic & Whimsy**

- sparkles âœ¨, portals ðŸŒ€, dreamstate ðŸŒ™, portal cat ðŸ˜¼ðŸŒ€, glitch ðŸ’¥

**Meta Tone Tags**

- sincere `:sincere_tag:`, sarcasm `:sarcasm_tag:`, venting `:vent_tag:`, hype `:hype_tag:`

### 8. Cultural & Regional Flavors

**Global Greetings & Gestures**

- namaste ðŸ™, salute ðŸ«¡, bow ðŸ™‡, wai ðŸ™ðŸ¼, fist bump ðŸ‘Š, peace âœŒï¸, shaka ðŸ¤™

**Festivals & Traditions**

- diwali ðŸª”, holi ðŸŽ¨, hanukkah ðŸ•Ž, eid ðŸŒ™, lunar new year ðŸ§§, carnival ðŸŽ­, pride ðŸ³ï¸â€ðŸŒˆ

**Food & Slang Mashups**

- chai â˜•, boba ðŸ§‹, ramen ðŸœ, tacos ðŸŒ®, biryani ðŸ›, bbq ðŸ–, dumpling ðŸ¥Ÿ
- slang like sus (ðŸ•µï¸), fam (ðŸ‘¨â€ðŸ‘©â€ðŸ‘§), bruv (ðŸ§¢), savage (ðŸ˜¤), gassed (ðŸ’¨)

**Regional Mood Tags**

- island time ðŸï¸, monsoon mood ðŸŒ§ï¸, desert heat ðŸœï¸, metro rush ðŸš‡, countryside calm ðŸšœ

### 9. Professional & Domain-Specific

**Medical & Wellness**

- scrubs ðŸ©º, on rounds ðŸš‘, lab work ðŸ§ª, mental health check ðŸ§ , meds ðŸ’Š, rest order ðŸ›ï¸

**Education & Academia**

- lecture ðŸŽ“, syllabus ðŸ“„, finals ðŸ˜µâ€ðŸ’«, publish ðŸ“š, citation ðŸ”–, lab partner ðŸ§‘â€ðŸ”¬, thesis ðŸ§¾

**Finance & Ops**

- quarterly ðŸ“Š, audit ðŸ§¾, green arrows ðŸ“ˆ, red arrows ðŸ“‰, compliance ðŸ§·, runway â±ï¸

**Creative & Media**

- storyboard ðŸŽžï¸, render ðŸ–¥ï¸, beat drop ðŸŽ¶, encore ðŸ”, draft âœï¸, editorial âœ‚ï¸

**Safety & Field Work**

- PPE ðŸ¦º, hard hat â›‘ï¸, site visit ðŸš§, weather hazard ðŸŒªï¸, field note ðŸ—’ï¸

### 10. Syntax & Meta Modifiers

**Intensity Markers**

- low ðŸ”¹, medium ðŸ”¸, high ðŸ”º, ultra ðŸ’¥, holding-back ðŸ˜¶â€ðŸŒ«ï¸

**Time & Urgency**

- ASAP âš¡, queue â³, tomorrow ðŸ“…, weekender ðŸ›», midnight ðŸŒ”, crunch time â±ï¸

**Conversation Controls**

- spoiler ðŸš«ðŸ‘€, tangent ðŸ”€, back_on_topic ðŸ”, receipts ðŸ“¸, fact_check âœ…

**Tone Switches**

- sincerity `:tone_sincere:`, sarcasm `:tone_sarcastic:`, whisper `:tone_soft:`, loud `:tone_loud:`

---

## Trigger Map Encoding

1. **Hierarchical JSON** â€” categories are organized into nested objects. Each trigger entry contains the emoji (Unicode or custom token), priority, optional intensity, and any aliases.
2. **Flattening step** â€” at runtime, the hierarchy is flattened into a dictionary keyed by lowercase triggers for O(1) lookups. Tags include the full category path plus any cross-tags (e.g., `"tags": ["reactions/approval/hype", "slang/hype"]`).
3. **Custom tokens** â€” entries without perfect Unicode matches use placeholder labels (e.g., `:deadpan_face:`). These can later map to custom SVG/GIF assets shipped with the extension.

Example leaf entry (pre-flattened):

```json
{
  "emotions": {
    "nuanced": {
      "deadpan_sarcasm": {
        "lovely": {
          "emoji": ":deadpan_face:",
          "priority": 95,
          "aliases": ["amazing", "iconic"]
        }
      }
    }
  }
}
```

Flat lookup produced at load time:

```json
{
  "lovely": {
    "emoji": ":deadpan_face:",
    "priority": 95,
    "tags": ["emotions/nuanced/deadpan_sarcasm"],
    "aliases": ["amazing", "iconic"]
  },
  "amazing": {
    "emoji": ":deadpan_face:",
    "priority": 94,
    "tags": ["emotions/nuanced/deadpan_sarcasm"],
    "base": "lovely"
  }
}
```

---

## Scaling Toward â€œThousands/Lakhsâ€ of Triggers

To grow Typojiâ€™s knowledge base rapidly and accurately:

- **Unicode CLDR annotations** â€” ingest keyword annotations for every emoji; each keyword becomes a seed trigger mapped to the emojiâ€™s official glyph.
- **Sentiment & emotion lexicons** â€” merge lists like NRC Emotion Lexicon, LIWC, or VADER word banks to enrich the emotion branches with synonyms and intensity levels.
- **Internet slang datasets** â€” scrape/ingest sources such as Urban Dictionary APIs, Fanlore, and curated Twitter/TikTok slang lists; map them to emojis or custom tokens.
- **Community curation** â€” build tooling so users can submit new triggers, vote on mappings, and flag ambiguous matches. Store contributions in `chrome.storage.sync` or a backend API for syncing.
- **Automated QA** â€” run nightly scripts that check for duplicates, conflicting priorities, and missing emojis; generate reports before shipping updates.

By combining the structured taxonomy above with automated ingestion pipelines, Typoji can scale from hundreds to tens of thousands of high-accuracy triggerâ†’emoji mappings while keeping nuance, sarcasm, and cultural tone intact.

---

## Coverage Audit & Gap Fixes

Recent research-backed passes highlight the following enhancements:

- **Emotional completeness** â€” mapped against the Multidimensional Lexicon of Emojis (MLE) so every emoji with labeled joy, trust, disgust, anticipation, surprise, anger, fear, or sadness scores has at least one trigger entry.
- **Discrete emotion depth** â€” aligned with the Emoji-Dis datasetâ€™s 13 discrete emotions to avoid blind spots in niche moods (e.g., awe, contempt, boredom).
- **Face emoji affect grid** â€” cross-checked against affective norms for 107 face emojis to ensure intensity sliders (low/medium/high) stay consistent with human-rated valence/arousal values.
- **Sarcasm pragmatics** â€” incorporated findings from emoji pragmatics studies on how upside-down faces, smirks, and skulls convey irony to prevent false-positive sincerity detections.
- **Cultural coverage** â€” added regional festival, greeting, and slang branches so Typoji respects global usage patterns rather than centering only Western references.
- **Custom token backlog** â€” logged every placeholder token (e.g., `:deadpan_face:`, `:dry_chuckle:`) with metadata describing when to render custom art versus fallback glyphs.

Outstanding monitoring tasks:

1. **Dataset ingestion scripts** â€” automate pulls from Unicode CLDR annotations, MLE, Emoji-Dis, and community slang spreadsheets; normalize into the hierarchical JSON.
2. **Conflict resolution** â€” nightly job to flag duplicate triggers pointing to divergent emojis or mismatched intensity tags.
3. **Context QA set** â€” maintain a regression corpus of sarcastic, sincere, and mixed-tone sentences to verify replacements stay on-tone during updates.

These steps keep loop holes closed while still leaving room for live community contributions to push Typoji toward the â€œlakhsâ€ target safely.

---

## Trigger Data Pipeline

Typoji ships its trigger intelligence as structured JSON plus a build step that flattens everything into an O(1) lookup map.

### Directory Layout

- `src/data/taxonomy/*.json` â€” human-friendly hierarchical nodes grouped by domain (emotions, reactions, slang, culture, professional, meta).
- `scripts/build-trigger-map.mjs` â€” ingestion script that loads every taxonomy file, walks the hierarchy, applies aliases, merges custom tags, and writes `src/data/build/trigger-map.json`.
- `src/data/build/trigger-map.json` â€” generated artifact consumed by the extension or SDKs.

### Schema Highlights

Each taxonomy node can define nested `children` plus an array of `triggers`. Every trigger supports:

- `token` â€” lowercase base trigger (required).
- `emoji` â€” Unicode glyph or custom token placeholder.
- `priority` â€” higher numbers win conflicts during flattening (default: 50).
- `intensity` â€” `low | medium | high`, used for tone-aware UI.
- `aliases` â€” alternate tokens pointing back to the same base.
- `custom` â€” marks entries requiring bespoke artwork.
- `additionalTags` â€” cross-branch tags (e.g., slang overlap).

### Build Command

```bash
pnpm install # or npm install
pnpm run build:triggers
```

The script validates tokens, deduplicates by priority, merges aliases, and prints a summary of the registered trigger count. Any malformed payload throws with the offending node ID so issues are caught before publishing.

> Note: The generated file is intentionally kept out of version control until the extension consumes it. Add it to git once the consuming package is ready.

---

## Browser Extension Runtime

The first Typoji runtime target is a Manifest V3 content script written entirely in TypeScript and bundled with tsup.

### Build Steps

1. Ensure the trigger map exists:
   ```bash
   pnpm run build:triggers
   ```
2. Bundle the extension assets:
   ```bash
   pnpm run build:extension
   ```

The second command compiles `src/extension/content.ts` into `dist/extension/content.js`, then copies `extension/manifest.json` so the folder is ready to load via `chrome://extensions`.

### Runtime Capabilities

- Watches text inputs and textareas across every page and detects completed words without disrupting the caret.
- Runs trigger lookups against the flattened registry, honoring user settings for enabled tags, disabled tokens, and mode (`auto` vs `confirm`).
- Provides an inline confirmation chip for confirm-mode replacements, ensuring replacements never obscure page layout and dismiss automatically on blur or outside click.

Future work will add a popup UI to expose the stored settings and allow per-site overrides.

---

## Code Quality & Formatting

Typoji enforces modern standards with ESLint (flat config, strict type-aware rules) and Prettier.

- `pnpm lint` â€” full ESLint sweep using `typescript-eslint` strict/stylistic configs.
- `pnpm lint:fix` â€” same as above with auto-fixes enabled.
- `pnpm format` â€” Prettier write mode, covering TS/JSON/MD/assets.
- `pnpm format:check` â€” CI-friendly Prettier verification.